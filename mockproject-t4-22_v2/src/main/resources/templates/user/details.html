<!DOCTYPE html>
<!--

-->
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Ustora Demo</title>

    <!-- Google Fonts -->
    <link href='http://fonts.googleapis.com/css?family=Titillium+Web:400,200,300,700,600' rel='stylesheet'
          type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Roboto+Condensed:400,700,300' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Raleway:400,100' rel='stylesheet' type='text/css'>
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
    <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>

    <!-- Bootstrap -->
    <link rel="stylesheet" th:href="@{/user/css/bootstrap.min.css}">

    <!-- Font Awesome -->
    <link rel="stylesheet" th:href="@{/user/css/font-awesome.min.css}">

    <!-- Custom CSS -->
    <link rel="stylesheet" th:href="@{/user/css/owl.carousel.css}">
    <link rel="stylesheet" th:href="@{/user/style.css}">
    <link rel="stylesheet" th:href="@{/user/css/responsive.css}">
    <link rel="stylesheet" th:href="@{/user/css/details.css}">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>

<th:block th:include="user/fragments/header"></th:block>

<div class="product-big-title-area">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="product-bit-title text-center">
                    <h2>Shop</h2>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="single-product-area">
    <div class="zigzag-bottom"></div>
    <div class="container">
        <div class="row" th:each="product : ${productdetail}">
            <div class="col-xs-4 item-photo">
                <img style="max-width:100%;" th:src="@{'/user/img/' + ${product.imgUrl}}"/>
            </div>
            <div class="col-xs-5" style="border:0px solid gray">
                <!-- Datos del vendedor y titulo del producto -->
                <h2><span th:text="${product.name}"></span></h2>
                <!-- Precios -->
                <h6 class="title-price"><small>PRECIO OFERTA</small></h6>
                <h3 style="margin-top:0px;" th:text="${#numbers.formatCurrency(product.price)}"></h3>

                <!-- Detalles especificos del producto -->
                <div class="section">
                    <h6 class="title-attr" style="margin-top:15px;"><small>COLOR</small></h6>
                    <div>
                        <div class="attr" style="width:25px;background:#5a5a5a;"></div>
                        <div class="attr" style="width:25px;background:white;"></div>
                    </div>
                </div>
                <div class="section" style="padding-bottom:5px;">
                    <h6 class="title-attr"><small>CAPACIDAD</small></h6>
                    <div>
                        <div class="attr2">16 GB</div>
                        <div class="attr2">32 GB</div>
                    </div>
                </div>
                <div class="section" style="padding-bottom:20px;">
                    <h6 class="title-attr"><small>CANTIDAD</small></h6>
                    <div>
                        <div class="btn-minus"><span class="glyphicon glyphicon-minus"></span></div>
                        <input value="1"/>
                        <div class="btn-plus"><span class="glyphicon glyphicon-plus"></span></div>
                    </div>
                </div>

                <!-- Botones de compra -->
                <div class="section" style="padding-bottom:20px;">
                    <button class="add_to_cart_button"
                            data-quantity="1" data-product_sku=""
                            data-product_id="70" rel="nofollow"
                            th:attr="onclick='addToCart(\'' + ${product.id} + '\')'">Add to cart</button>
                </div>
            </div>

            <div class="col-xs-9">
                <ul class="menu-items">
                    <li class="active">Detalle del producto</li>
                    <li>Garantía</li>
                    <li>Vendedor</li>
                    <li>Envío</li>
                </ul>
                <div style="width:100%;border-top:1px solid silver">
                    <p style="padding:15px;">
                        <small>
                            Stay connected either on the phone or the Web with the Galaxy S4 I337 from Samsung. With 16
                            GB of memory and a 4G connection, this phone stores precious photos and video and lets you
                            upload them to a cloud or social network at blinding-fast speed. With a 17-hour operating
                            life from one charge, this phone allows you keep in touch even on the go.

                            With its built-in photo editor, the Galaxy S4 allows you to edit photos with the touch of a
                            finger, eliminating extraneous background items. Usable with most carriers, this smartphone
                            is the perfect companion for work or entertainment.
                        </small>
                    </p>
                    <small>
                        <ul>
                            <li>Super AMOLED capacitive touchscreen display with 16M colors</li>
                            <li>Available on GSM, AT T, T-Mobile and other carriers</li>
                            <li>Compatible with GSM 850 / 900 / 1800; HSDPA 850 / 1900 / 2100 LTE; 700 MHz Class 17 /
                                1700 / 2100 networks
                            </li>
                            <li>MicroUSB and USB connectivity</li>
                            <li>Interfaces with Wi-Fi 802.11 a/b/g/n/ac, dual band and Bluetooth</li>
                            <li>Wi-Fi hotspot to keep other devices online when a connection is not available</li>
                            <li>SMS, MMS, email, Push Mail, IM and RSS messaging</li>
                            <li>Front-facing camera features autofocus, an LED flash, dual video call capability and a
                                sharp 4128 x 3096 pixel picture
                            </li>
                            <li>Features 16 GB memory and 2 GB RAM</li>
                            <li>Upgradeable Jelly Bean v4.2.2 to Jelly Bean v4.3 Android OS</li>
                            <li>17 hours of talk time, 350 hours standby time on one charge</li>
                            <li>Available in white or black</li>
                            <li>Model I337</li>
                            <li>Package includes phone, charger, battery and user manual</li>
                            <li>Phone is 5.38 inches high x 2.75 inches wide x 0.13 inches deep and weighs a mere 4.59
                                oz
                            </li>
                        </ul>
                    </small>
                </div>
            </div>
        </div>
    </div>
</div>

<th:block th:include="user/fragments/footer"></th:block>

<!-- Latest jQuery form server -->
<script src="https://code.jquery.com/jquery.min.js"></script>

<!-- Bootstrap JS form CDN -->
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

<!-- jQuery sticky menu -->
<script th:src="@{/user/js/owl.carousel.min.js}"></script>
<script th:src="@{/user/js/jquery.sticky.js}"></script>

<!-- jQuery easing -->
<script th:src="@{/user/js/jquery.easing.1.3.min.js}"></script>

<!-- Main Script -->
<script th:src="@{/user/js/main.js}"></script>

<!-- Slider -->
<script type="text/javascript" th:src="@{/user/js/bxslider.min.js}"></script>
<script type="text/javascript" th:src="@{/user/js/script.slider.js}"></script>
<script>
    function addToCart(productId) {
        var endpoint = '/api/cart/update?productId=' + productId + '&quantity=1&isReplace=false';
        $.ajax({
            url: endpoint,
            type: 'GET',
            dataType: 'json',
            success: function (data) {
                $('#headerTotalPrice').text(numberWithDot(data.totalPrice));
                $('#headerTotalQuantity').text(data.totalQuantity);
                alert('...');
            },
            error: function (data) {
                alert('Cannot add product to cart, try again!');
            }
        });
    }

    function numberWithDot(x) {
        return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".") + ' ₫';
    }

    $(document).ready(function () {
        //-- Click on detail
        $("ul.menu-items > li").on("click", function () {
            $("ul.menu-items > li").removeClass("active");
            $(this).addClass("active");
        })

        $(".attr,.attr2").on("click", function () {
            var clase = $(this).attr("class");

            $("." + clase).removeClass("active");
            $(this).addClass("active");
        })

        //-- Click on QUANTITY
        $(".btn-minus").on("click", function () {
            var now = $(".section > div > input").val();
            if ($.isNumeric(now)) {
                if (parseInt(now) - 1 > 0) {
                    now--;
                }
                $(".section > div > input").val(now);
            } else {
                $(".section > div > input").val("1");
            }
        })
        $(".btn-plus").on("click", function () {
            var now = $(".section > div > input").val();
            if ($.isNumeric(now)) {
                $(".section > div > input").val(parseInt(now) + 1);
            } else {
                $(".section > div > input").val("1");
            }
        })
    })
</script>
</body>
</html>